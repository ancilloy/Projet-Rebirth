<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Grotte Electrolithe</title>
        <style>
            body {
                background-image: url('https://archives.bulbagarden.net/media/upload/b/b6/BW_Chargestone_Cave_Tile.png');
                color: #00aeff;
            }

            table {
                overflow: hidden;
            }

            th {
                padding: 5px;
            }

            a {
                color: #00aeff;
            }
        </style>
    </head>

    <body>
        <center><h2>
            <img src="rocher_flottant.png">&ensp;
            Bienvenue dans la Grotte Electrolithe
            &ensp;<img src="rocher_flottant.png">
        </h2></center>

        <table>
            <tr>
                <th>Entrez les informations sur le Pokémon :</th>
                <th>Nature</th>
                <th>Caractéristique</th>
            </tr>
            <tr>
                <th></th>
                <th><select id="natureSelect"></select></th>
                <th><select id="caracSelect"></select></th>
            </tr>
        </table>
        <br><br>
        <center><input type="submit" value="Process" onClick="process(); return false;"/></center>
        <div id="processBlock"></div>
        <br><br>

        <script>
            fetch("https://ancilloy.github.io/Projet-Rebirth/pokedata.json")
                .then(response => response.json())
                .then(data => {
                    natureSelect = document.getElementById('natureSelect');
                    caracSelect  = document.getElementById('caracSelect');

                    data.natures.forEach(nat => {
                        newOption = document.createElement('option');
                        newOption.innerHTML = nat.nom;
                        newOption.value = nat.nom;
                        natureSelect.appendChild(newOption);
                    });

                    data.caracteristiques.forEach(car => {
                        newOption = document.createElement('option');
                        newOption.innerHTML = car.nom;
                        newOption.value = car.nom;
                        caracSelect.appendChild(newOption);
                    });
                });

                function process() {
                    selectedNature = document.getElementById('natureSelect').selectedOptions[0].value;
                    selectedCarac  = document.getElementById('caracSelect').selectedOptions[0].value;

                    document.getElementById('processBlock').innerHTML = `<b>Nature selectionnée :</b> ${selectedNature}<br>` +
                                                                       `<b>Caractéristique selectionnée :</b> ${selectedCarac}<br>`;
                }
        </script>

        <center><a href="parsemille.html"><img src="sortie.png"></a></center>
    </body>
</html>
